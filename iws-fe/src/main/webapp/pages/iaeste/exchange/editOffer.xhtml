<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:offer="http://java.sun.com/jsf/composite/components">

<ui:composition template="/pages/templates/iaeste.xhtml">

    <ui:define name="header">
        <h1 class="pageTitle">
            <span class="light">#{amsg.editOfferHeader}</span>
            <span class="">#{offerBean.emptyOffer.refNo}</span>
        </h1>
    </ui:define>

    <ui:define name="content">
        <h:form>
            <p:tabView dynamic="true" cache="false">

                <p:tab title="#{amsg.offerBasicInfo}">
                    <offer:basicInfo offer="#{offerBean.selectedOffer}"/>
                </p:tab>

                <p:tab title="#{amsg.employerInfoText}">
                    <offer:employerInfo offer="#{offerBean.selectedOffer}"/>
                </p:tab>

                <p:tab title="#{amsg.studentInfoText}">
                    <offer:studentInfo offer="#{offerBean.selectedOffer}"/>
                </p:tab>

                <p:tab title="#{amsg.workOfferedText}">
                    <offer:workOffered offer="#{offerBean.selectedOffer}"/>
                </p:tab>

                <p:tab title="#{amsg.accommodationText}">
                    <offer:accommodation offer="#{offerBean.selectedOffer}"/>
                </p:tab>

            </p:tabView>

            <h:panelGroup styleClass="formActions">
                <p:commandButton widgetVar="submit" value="#{amsg.saveOffer}" process="@form" update="@form" action="#{offerBean.updateOffer()}"
                                 icon="ui-icon-disk"/>
                <p:button value="#{amsg.cancel}" href="listOffers.xhtml" icon="ui-icon-cancel"/>
            </h:panelGroup>
        </h:form>
    </ui:define>
</ui:composition>
</html>
