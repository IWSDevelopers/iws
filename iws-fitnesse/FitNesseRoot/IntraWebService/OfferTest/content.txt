!path iws-fitnesse.jar
!define SLIM_VERSION {0.1}
!define TEST_SYSTEM {slim}

!2 Offer Test

We will create an employer and an offer.

!3 First we need to login

!|script     |ProcessOffer            |
|set username|germany@iaeste.de       |
|set password|germany                 |
|ensure      |login                   |
|$token=     |get authentication token|

!3 We need an employer

!|script                  |process employer           |
|set authentication token |$token                     |
|setName                  |IAESTE LC Dresden          |
|setBusiness              |Student Exchange           |
|setDepartment            |Office                     |
|setStreet1               |c/o AAA TU Dresden         |
|setStreet2               |                           |
|setZip                   |01062                      |
|setCity                  |Dresden                    |
|setState                 |Saxony                     |
|setPobox                 |                           |
|setEmployeesCount        |10                         |
|setWebsite               |http://www.iaestedresden.de|
|setWorkingPlace          |Dresden                    |
|setCanteen               |true                       |
|setNearestAirport        |Dresden International      |
|setNearestPublicTransport|Bus, Tram                  |
|setWeeklyHours           |40                         |
|setDailyHours            |8                          |
|process employer                                     |
|show                     |print employer             |
|$employer=               |get employer id            |

!3 And we need an offer

!|script                    |ProcessOffer                             |
|set authentication token   |$token                                   |
|setRefNo                   |DE-2014-000001                           |
|setEmployer                |$employer                                |
|setWorkDescription         |Summer Reception Officer                 |
|setTypeOfWork              |P                                        |
|setStudyLevels             |M                                        |
|setFieldOfStudies          |ANY                                      |
|setPreviousTrainingRequired|false                                    |
|setOtherRequirements       |none                                     |
|setMinimumWeeks            |8                                        |
|setMaximumWeeks            |12                                       |
|setPeriod1From             |01-Jun-2014                              |
|setPeriod1To               |31-Jul-2014                              |
|setPeriod2From             |01-Aug-2014                              |
|setPeriod2To               |30-Sep-2014                              |
|setLanguage1               |GERMAN                                   |
|setLanguage1Level          |E                                        |
|setLanguage1Operator       |A                                        |
|setLanguage2               |ENGLISH                                  |
|setLanguage2Level          |E                                        |
|setPayment                 |650                                      |
|setPaymentFrequency        |MONTHLY                                  |
|setCurrency                |EUR                                      |
|setLivingCost              |450                                      |
|setLivingCostFrequency     |MONTHLY                                  |
|setLodgingBy               |LC                                       |
|setLodgingCost             |250                                      |
|setLodgingCostFrequency    |MONTHLY                                  |
|setNominationDeadline      |01-Apr-2014-04                           |
|setNumberOfHardCopies      |3                                        |
|setAdditionalInformation   |Skype interview will be held in advanced.|
|process offer                                                        |
|show                       |print offer                              |
|$offer=                    |get offer id                             |

!3 We're finished and so we logout

!|script                 |process offer|
|set authentication token|$token       |
|logout                                |
